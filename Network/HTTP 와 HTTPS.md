**Hyper Text Transfer Protocol Secure**

### HTTP 와 HTTPS

HTTP 는 HyperText Transfer Protocol 로 서로 다른 시스템 사이에서 통신을 주고 받게 해주는 가장 기본적인 프로토콜입니다. 서버에서 브라우저로 데이터를 전송하는 용도로 사용합니다. HTTPS 는 HTTP 가 통신하는 소켓 부분을 SSL(Secure Socket Layer) dl라는 프로토콜로 대체한 것입니다.

### HTTP 의 문제점에 대해 설명해주시고, HTTPS 를 통해 얻는 장점에는 무엇이 있나요?

HTTP 는 암호화되지 않은 평문으로 감청의 위험이 있고, 통신 상대를 확인하지 않기 때문에 DOS 공격(서비스 공격)의 위험이 있습니다. 또한 `완전성 증명`이 불가능하기 때문에 변조 가능성을 내포하고 있습니다. HTTPS 를 통해 보안성을 향상시키고, 검색 엔진 최적화를 할 수 있습니다.

### SSL / TLS

처음에 대칭키를 서로 공유하는 통신을 RSA 비대칭키 방식을 이용하고, 실제 통신을 할 때는 CPU 리소스 소모가 적은 대칭키 방식으로 데이터를 주고 받습니다.

- 상대 인증
  - 비대칭 암호화 방식을 사용합니다. 인증기관과 협력하여 신뢰할 수 있는 사이트에 대한 접속을 가능하게 합니다. 사이트 인증의 과정에서는 공개키와 비밀키 방식을 사용합니다.
  - Asymmetrical Cryptography
  - 비밀키, 공개키 방식 (RSA, ECDSA 등 사용)
  - 공인된 Certification 사용 (디지털 서명)
    - (Symantec →)DigiCert, IdenTrust, Sectigo
  - CA - Certificate Autority
- 데이터 전송
  - 실제 통신을 할 때는 CPU 리소스 소모가 적은 대칭키 방식으로 주고 받습니다. Symmetrical Cryptography 사용
  - 양쪽에서 합의한 shared secret으로 암호화, 복호화 (Session Key)
- 계층관계
  - HTTP, FTP, SMTP (Application Layer)
  - SSL, TLS (Application Layer 최하단)
  - TCP (Transport Layer)
  - IP (Network Layer)

CA 는 SSL 인증서를 무료로 발급해준다. SSL 은 Secure Socket Layer 로, 웹 서버와 브라우저간의 보안을 위해 만든 프로토콜입니다. 대칭키 공개키/개인키(비대칭키) 기반으로 사용합니다.

대칭키는 동일한 키로 암호화하고, 복호화하는 방식입니다. 암호화 복호화가 쉽다는 장점이 있지만, 키를 전달할 때 문제가 있습니다.

공개키/개인키 서로 다른 키로 암호화와 복호화하는 방식입니다. 데이터 암호화시에는 공개키를 사용하며, 복호화할 때는 개인키를 사용합니다. 암호화 복호화에 대한 비용이 더 발생합니다.

A → B 로 접속 요청

B → A : 자신의 공개키 전달, 개인키는 가지고 있는다

A : 본인의 대칭키를 전달받은 공개키로 암호화한다.

A → B : 대칭키를 전달한다.

B : A 의 대칭키를 자신의 개인키로 복호화한다.

A 와 B 는 안전하게 통신한다. 데이터 암호화 복호화를 위해 한쪽의 대칭키를 한쪽의 공개키로 암호화하고, 반대쪽에서는 자신의 개인키로 이를 복호화한다.

사이트 정보, 사이트 공개키 전달

인증기관 : 사이트 인증서를 발급하기 전에 검증

검증을 완료하면 사이트 인증서를 생성하기 위해 데이터를 자신의 개인키로 서명한다.

사이트 인증서 생성

사이트 인증서를 사이트에 전달

사용자에게 인증기관 공개키 전달

인증기관 공개키는 브라우저에 내장.

사용자가 접속을 요청한다.

사용자에게 인증서를 전달한다.

브라우저에 저장된 인증기관 공개키로 사이트 인증서를 복호화하여 검증한다.

사이트 정보와 사이트 공개키를 얻는다.

사이트 공개키로 자신의 대칭키를 암호화한다.

이 대칭키를 사이트에 전달한다.

사이트는 이 대칭키를 개인키로 복호화한다.

SSL 은 사이트 외에 인증기관과 사용자가 협력하기 때문에 안전한 접속 방법입니다.
